<div class="body">
  <storybook-square-white>
    <!-- {{ orderForm.valid }}
    {{ orderForm.value | json }} -->
    <form novalidate
          [formGroup]="orderForm">
      <div class="box-header">
          <i class="fa fa-shopping-cart fa-lg"></i>
          <p>Finalize o seu pedido</p>
      </div>

      <div class="box-info-user">
        <p>Seus dados:</p>

        <div class="box-input-user">
          <div class="box-input-name">
            <storybook-validator errorMessage="Campo obrigatório!">
              <storybook-input  ngDefaultControl
                                formControlName="name"
                                autocomplete="off"
                                label="Nome:"
                                placeHolder="(ex. Jackson Neves)">
              </storybook-input>
            </storybook-validator>
          </div>

          <div class="box-input-phone">
            <storybook-validator errorMessage="Campo obrigatório!">
              <storybook-input  ngDefaultControl
                                formControlName="phone"
                                type="number"
                                label="Telefone:"
                                onkeypress="onlyNumber()"
                                autocomplete="off"
                                placeHolder="(ex. 47 9 9934-2827)">
              </storybook-input>
            </storybook-validator>
          </div>
        </div>
      </div>

      <div class="box-info-address">
        <p>Endereço de Entrega:</p>

        <div class="wrapper-address">
          <div class="box-input-address">
            <storybook-validator errorMessage="Campo obrigatório!">
              <storybook-input  ngDefaultControl
                                formControlName="address"
                                label="Endereço:"
                                autocomplete="off"
                                placeHolder="(ex: Rua chuville)">
              </storybook-input>
            </storybook-validator>
          </div>

          <div class="box-input-number">
            <storybook-validator errorMessage="Campo obrigatório!">
              <storybook-input  ngDefaultControl
                                formControlName="number"
                                type="number"
                                label="Número:"
                                onkeypress="onlyNumber()"
                                autocomplete="off"
                                placeHolder="(ex: 100)">
              </storybook-input>
            </storybook-validator>
          </div>

          <div class="box-input-optional">
            <storybook-validator>
              <storybook-input  ngDefaultControl
                                formControlName="optionalAddress"
                                label="Complemento:"
                                autocomplete="off"
                                placeHolder="(ex: Apto 101, BL 1)">
              </storybook-input>
          </storybook-validator>
          </div>
        </div>
      </div>

      <div class="box-itens">
        <div class="content-itens">
          <p>Itens do Pedido:</p>
          
          <app-order-items  [items]="cartItems()"
                            (increaseQty)="increaseQty($event)"
                            (decreaseQty)="decreaseQty($event)"
                            (remove)="removeItem($event)">
          </app-order-items>
        </div>
      </div>

      <div class="box-payment">
        <div class="content-payment">
          <p>Formas de Pagamento:</p>
          <storybook-radio-button   [options]="paymentOptions"
                                    formControlName="paymentOption">
          </storybook-radio-button>
        </div>

        <div class="content-delivery">
          <p>Frete e Total:</p>
          <app-delivery-costs [delivery]="delivery"
                              [itemsValue]="itemsValue()">
          </app-delivery-costs>
        </div>
      </div>
    </form>

    <div class="box-footer">
      <storybook-button fontBlack="true"
                        label="Voltar"
                        class="button-back"
                        [routerLink]="['/restaurant/jack-daniels']">
      </storybook-button>
      <storybook-button primary="true"
                        icon="fa fa-credit-card"
                        label="Concluir Pedido"
                        (click)="checkOrder(orderForm.value)"
                        [disabled]="!orderForm.valid || cartItems().length === 0"
                        [routerLink]="['/order-summary']">
      </storybook-button>
    </div>
  </storybook-square-white>
</div>